<Window x:Class="LorModEditor.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:prism="http://prismlibrary.com/"

        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewmodels="clr-namespace:LorModEditor.ViewModels"
        mc:Ignorable="d"
        prism:ViewModelLocator.AutoWireViewModel="True"
        d:DataContext="{d:DesignInstance Type=viewmodels:MainWindowViewModel, IsDesignTimeCreatable=False}"

        Title="{Binding Title}" Height="800" Width="1200">

    <Window.Resources>
        <Style x:Key="NavButtonStyle" TargetType="RadioButton">
            <!-- ... 样式代码保持不变 ... -->
            <Setter Property="Margin" Value="0,0,5,0" />
            <Setter Property="Padding" Value="15,8" />
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Cursor" Value="Hand" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#E0E0E0" />
                </Trigger>
                <Trigger Property="IsChecked" Value="True">
                    <Setter Property="Background" Value="#007ACC" />
                    <Setter Property="Foreground" Value="White" />
                    <Setter Property="FontWeight" Value="Bold" />
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <DockPanel>
        <!-- 顶部菜单 -->
        <Border DockPanel.Dock="Top" Background="#F0F0F0" Padding="10">
            <StackPanel Orientation="Horizontal">
                <Button Content="📂 打开项目" Command="{Binding OpenProjectCommand}" Padding="10,5" Margin="0,0,10,0" />
                <Button Content="💾 保存所有" Command="{Binding SaveProjectCommand}" Padding="10,5" Margin="0,0,30,0" />

                <!-- 导出按钮 (现在 IDE 应该能识别 ExportCommand 了) -->
                <Button Content="📝 导出文档"
                        Command="{Binding ExportCommand}"
                        Padding="10,5" Margin="0,0,30,0"
                        Background="#E0F7FA" BorderBrush="#00BCD4" FontWeight="Bold" />

                <!-- 导航按钮 -->
                <RadioButton Content="🎴 战斗书页" Command="{Binding NavigateCommand}" CommandParameter="CardEditorView"
                             Style="{StaticResource NavButtonStyle}" IsChecked="True" />
                <RadioButton Content="⚡ 被动能力" Command="{Binding NavigateCommand}" CommandParameter="PassiveEditorView"
                             Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="📖 核心书页" Command="{Binding NavigateCommand}" CommandParameter="BookEditorView"
                             Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="👹 敌人单位" Command="{Binding NavigateCommand}" CommandParameter="EnemyEditorView"
                             Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="🏰 关卡配置" Command="{Binding NavigateCommand}" CommandParameter="StageEditorView"
                             Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="📚 书籍掉落" Command="{Binding NavigateCommand}"
                             CommandParameter="DropBookEditorView" Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="📝 能力描述" Command="{Binding NavigateCommand}" CommandParameter="AbilityEditorView"
                             Style="{StaticResource NavButtonStyle}" />
                <RadioButton Content="🔤 关键字" Command="{Binding NavigateCommand}" CommandParameter="KeywordEditorView"
                             Style="{StaticResource NavButtonStyle}" />

                <RadioButton Content="⚙️ 设置" Command="{Binding NavigateCommand}" CommandParameter="SettingsView"
                             Style="{StaticResource NavButtonStyle}" Margin="50,0,0,0" />
            </StackPanel>
        </Border>

        <!-- 内容区域 -->
        <ContentControl prism:RegionManager.RegionName="ContentRegion" Margin="5" />

    </DockPanel>
</Window>