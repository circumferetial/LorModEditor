<controls:UserControl
  x:Class="Synthesis.Views.Components.UnityRichTextBox"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
  xmlns:tools="clr-namespace:Synthesis.Core.Tools"
  x:Name="Root"
  xmlns:controls="clr-namespace:System.Windows.Controls;assembly=PresentationFramework">
  <Grid>
    <StackPanel>
      <TextBox
        Style="{StaticResource MaterialDesignFloatingHintTextBox}"
        VerticalScrollBarVisibility="Auto"
        tools:RichTextMenuBehavior.IsEnabled="True"
        Text="{Binding Text, ElementName=Root, UpdateSourceTrigger=PropertyChanged}"
        materialDesign:HintAssist.Hint="{Binding Hint, ElementName=Root}"
        AcceptsReturn="{Binding AcceptsReturn, ElementName=Root}"
        TextWrapping="{Binding TextWrapping, ElementName=Root}" />
      <Border
        Background="#1A000000"
        CornerRadius="4"
        Margin="0,4,0,0"
        Padding="8,4"
        BorderBrush="{DynamicResource MaterialDesignDivider}"
        BorderThickness="1"
        Visibility="{Binding ShowPreview, ElementName=Root, Converter='{StaticResource BoolToVis}'}">
        <Grid>
          <Grid.ColumnDefinitions>
            <ColumnDefinition
              Width="Auto" />
            <ColumnDefinition
              Width="*" />
          </Grid.ColumnDefinitions>
          <materialDesign:PackIcon
            Kind="EyeOutline"
            UIElement.Opacity="0.4"
            FrameworkElement.VerticalAlignment="Top"
            FrameworkElement.Margin="0,2,6,0"
            FrameworkElement.Width="14"
            FrameworkElement.Height="14" />
          <TextBlock
            Grid.Column="1"
            FontSize="13"
            TextWrapping="Wrap"
            Opacity="0.9"
            Foreground="{DynamicResource MaterialDesignBody}"
            tools:UnityRichTextHelper.Text="{Binding Text, ElementName=Root}" />
        </Grid>
      </Border>
    </StackPanel>
  </Grid>
</controls:UserControl>
